(self.webpackChunk=self.webpackChunk||[]).push([[680],{49212:function(C){(function(L,l){C.exports=l()})(typeof self!="undefined"?self:this,function(){return function(E){var L={};function l(v){if(L[v])return L[v].exports;var h=L[v]={i:v,l:!1,exports:{}};return E[v].call(h.exports,h,h.exports,l),h.l=!0,h.exports}return l.m=E,l.c=L,l.d=function(v,h,s){l.o(v,h)||Object.defineProperty(v,h,{configurable:!1,enumerable:!0,get:s})},l.n=function(v){var h=v&&v.__esModule?function(){return v.default}:function(){return v};return l.d(h,"a",h),h},l.o=function(v,h){return Object.prototype.hasOwnProperty.call(v,h)},l.p="",l(l.s=5)}([function(E,L){function l(v,h,s,g){return g===void 0&&(g="height"),s==="center"?(v[g]+h[g])/2:v.height}E.exports={assign:Object.assign,getHeight:l}},function(E,L,l){var v=l(3),h=function(){function s(f,i){i===void 0&&(i={});var n=this;n.options=i,n.rootNode=v(f,i)}var g=s.prototype;return g.execute=function(){throw new Error("please override this method")},s}();E.exports=h},function(E,L,l){var v=l(4),h=["LR","RL","TB","BT","H","V"],s=["LR","RL","H"],g=function(r){return s.indexOf(r)>-1},f=h[0];E.exports=function(n,r,t){var e=r.direction||f;if(r.isHorizontal=g(e),e&&h.indexOf(e)===-1)throw new TypeError("Invalid direction: "+e);if(e===h[0])t(n,r);else if(e===h[1])t(n,r),n.right2left();else if(e===h[2])t(n,r);else if(e===h[3])t(n,r),n.bottom2top();else if(e===h[4]||e===h[5]){var a=v(n,r),o=a.left,c=a.right;t(o,r),t(c,r),r.isHorizontal?o.right2left():o.bottom2top(),c.translate(o.x-c.x,o.y-c.y),n.x=o.x,n.y=c.y;var m=n.getBoundingBox();r.isHorizontal?m.top<0&&n.translate(0,-m.top):m.left<0&&n.translate(-m.left,0)}var w=r.fixedRoot;return w===void 0&&(w=!0),w&&n.translate(-(n.x+n.width/2+n.hgap),-(n.y+n.height/2+n.vgap)),i(n,r),n};function i(n,r){if(r.radial){var t=r.isHorizontal?["x","y"]:["y","x"],e=t[0],a=t[1],o={x:1/0,y:1/0},c={x:-1/0,y:-1/0},m=0;n.DFTraverse(function(p){m++;var O=p.x,T=p.y;o.x=Math.min(o.x,O),o.y=Math.min(o.y,T),c.x=Math.max(c.x,O),c.y=Math.max(c.y,T)});var w=c[a]-o[a];if(w===0)return;var b=Math.PI*2/m;n.DFTraverse(function(p){var O=(p[a]-o[a])/w*(Math.PI*2-b)+b,T=p[e]-n[e];p.x=Math.cos(O)*T,p.y=Math.sin(O)*T})}}},function(E,L,l){var v=l(0),h=18,s=h*2,g=h,f={getId:function(t){return t.id||t.name},getPreH:function(t){return t.preH||0},getPreV:function(t){return t.preV||0},getHGap:function(t){return t.hgap||g},getVGap:function(t){return t.vgap||g},getChildren:function(t){return t.children},getHeight:function(t){return t.height||s},getWidth:function(t){var e=t.label||" ";return t.width||e.split("").length*h}};function i(r,t){var e=this;if(e.vgap=e.hgap=0,r instanceof i)return r;e.data=r;var a=t.getHGap(r),o=t.getVGap(r);return e.preH=t.getPreH(r),e.preV=t.getPreV(r),e.width=t.getWidth(r),e.height=t.getHeight(r),e.width+=e.preH,e.height+=e.preV,e.id=t.getId(r),e.x=e.y=0,e.depth=0,e.children||(e.children=[]),e.addGap(a,o),e}v.assign(i.prototype,{isRoot:function(){return this.depth===0},isLeaf:function(){return this.children.length===0},addGap:function(t,e){var a=this;a.hgap+=t,a.vgap+=e,a.width+=2*t,a.height+=2*e},eachNode:function(t){for(var e=this,a=[e],o;o=a.shift();)t(o),a=o.children.concat(a)},DFTraverse:function(t){this.eachNode(t)},BFTraverse:function(t){for(var e=this,a=[e],o;o=a.shift();)t(o),a=a.concat(o.children)},getBoundingBox:function(){var t={left:Number.MAX_VALUE,top:Number.MAX_VALUE,width:0,height:0};return this.eachNode(function(e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.width=Math.max(t.width,e.x+e.width),t.height=Math.max(t.height,e.y+e.height)}),t},translate:function(t,e){t===void 0&&(t=0),e===void 0&&(e=0),this.eachNode(function(a){a.x+=t,a.y+=e,a.x+=a.preH,a.y+=a.preV})},right2left:function(){var t=this,e=t.getBoundingBox();t.eachNode(function(a){a.x=a.x-(a.x-e.left)*2-a.width}),t.translate(e.width,0)},bottom2top:function(){var t=this,e=t.getBoundingBox();t.eachNode(function(a){a.y=a.y-(a.y-e.top)*2-a.height}),t.translate(0,e.height)}});function n(r,t,e){t===void 0&&(t={}),t=v.assign({},f,t);var a=new i(r,t),o=[a],c;if(!e&&!r.collapsed){for(;c=o.shift();)if(!c.data.collapsed){var m=t.getChildren(c.data),w=m?m.length:0;if(c.children=new Array(w),m&&w)for(var b=0;b<w;b++){var p=new i(m[b],t);c.children[b]=p,o.push(p),p.parent=c,p.depth=c.depth+1}}}return a}E.exports=n},function(E,L,l){var v=l(3);E.exports=function(h,s){for(var g=v(h.data,s,!0),f=v(h.data,s,!0),i=h.children.length,n=Math.round(i/2),r=s.getSide||function(o,c){return c<n?"right":"left"},t=0;t<i;t++){var e=h.children[t],a=r(e,t);a==="right"?f.children.push(e):g.children.push(e)}return g.eachNode(function(o){o.isRoot()||(o.side="left")}),f.eachNode(function(o){o.isRoot()||(o.side="right")}),{left:g,right:f}}},function(E,L,l){var v={compactBox:l(6),dendrogram:l(8),indented:l(10),mindmap:l(12)};E.exports=v},function(E,L,l){function v(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,h(e,a)}function h(e,a){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},h(e,a)}var s=l(1),g=l(7),f=l(2),i=l(0),n=function(e){function a(){return e.apply(this,arguments)||this}v(a,e);var o=a.prototype;return o.execute=function(){var m=this;return f(m.rootNode,m.options,g)},a}(s),r={};function t(e,a){return a=i.assign({},r,a),new n(e,a).execute()}E.exports=t},function(E,L){function l(i,n,r,t){t===void 0&&(t=[]);var e=this;e.w=i||0,e.h=n||0,e.y=r||0,e.x=0,e.c=t||[],e.cs=t.length,e.prelim=0,e.mod=0,e.shift=0,e.change=0,e.tl=null,e.tr=null,e.el=null,e.er=null,e.msel=0,e.mser=0}l.fromNode=function(i,n){if(!i)return null;var r=[];return i.children.forEach(function(t){r.push(l.fromNode(t,n))}),n?new l(i.height,i.width,i.x,r):new l(i.width,i.height,i.y,r)};function v(i,n,r){r?i.y+=n:i.x+=n,i.children.forEach(function(t){v(t,n,r)})}function h(i,n){var r=n?i.y:i.x;return i.children.forEach(function(t){r=Math.min(h(t,n),r)}),r}function s(i,n){var r=h(i,n);v(i,-r,n)}function g(i,n,r){r?n.y=i.x:n.x=i.x,i.c.forEach(function(t,e){g(t,n.children[e],r)})}function f(i,n,r){r===void 0&&(r=0),n?(i.x=r,r+=i.width):(i.y=r,r+=i.height),i.children.forEach(function(t){f(t,n,r)})}E.exports=function(i,n){n===void 0&&(n={});var r=n.isHorizontal;function t(u){if(u.cs===0){e(u);return}t(u.c[0]);for(var d=N(w(u.c[0].el),0,null),y=1;y<u.cs;++y){t(u.c[y]);var x=w(u.c[y].er);a(u,y,d),d=N(x,y,d)}O(u),e(u)}function e(u){u.cs===0?(u.el=u,u.er=u,u.msel=u.mser=0):(u.el=u.c[0].el,u.msel=u.c[0].msel,u.er=u.c[u.cs-1].er,u.mser=u.c[u.cs-1].mser)}function a(u,d,y){for(var x=u.c[d-1],P=x.mod,S=u.c[d],H=S.mod;x!==null&&S!==null;){w(x)>y.low&&(y=y.nxt);var R=P+x.prelim+x.w-(H+S.prelim);R>0&&(H+=R,o(u,d,y.index,R));var A=w(x),B=w(S);A<=B&&(x=m(x),x!==null&&(P+=x.mod)),A>=B&&(S=c(S),S!==null&&(H+=S.mod))}!x&&S?b(u,d,S,H):x&&!S&&p(u,d,x,P)}function o(u,d,y,x){u.c[d].mod+=x,u.c[d].msel+=x,u.c[d].mser+=x,D(u,d,y,x)}function c(u){return u.cs===0?u.tl:u.c[0]}function m(u){return u.cs===0?u.tr:u.c[u.cs-1]}function w(u){return u.y+u.h}function b(u,d,y,x){var P=u.c[0].el;P.tl=y;var S=x-y.mod-u.c[0].msel;P.mod+=S,P.prelim-=S,u.c[0].el=u.c[d].el,u.c[0].msel=u.c[d].msel}function p(u,d,y,x){var P=u.c[d].er;P.tr=y;var S=x-y.mod-u.c[d].mser;P.mod+=S,P.prelim-=S,u.c[d].er=u.c[d-1].er,u.c[d].mser=u.c[d-1].mser}function O(u){u.prelim=(u.c[0].prelim+u.c[0].mod+u.c[u.cs-1].mod+u.c[u.cs-1].prelim+u.c[u.cs-1].w)/2-u.w/2}function T(u,d){d+=u.mod,u.x=u.prelim+d,M(u);for(var y=0;y<u.cs;y++)T(u.c[y],d)}function D(u,d,y,x){if(y!==d-1){var P=d-y;u.c[y+1].shift+=x/P,u.c[d].shift-=x/P,u.c[d].change-=x-x/P}}function M(u){for(var d=0,y=0,x=0;x<u.cs;x++)d+=u.c[x].shift,y+=d+u.c[x].change,u.c[x].mod+=y}function N(u,d,y){for(;y!==null&&u>=y.low;)y=y.nxt;return{low:u,index:d,nxt:y}}f(i,r);var I=l.fromNode(i,r);return t(I),T(I,0),g(I,i,r),s(i,r),i}},function(E,L,l){function v(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,h(e,a)}function h(e,a){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},h(e,a)}var s=l(1),g=l(9),f=l(2),i=l(0),n=function(e){function a(){return e.apply(this,arguments)||this}v(a,e);var o=a.prototype;return o.execute=function(){var m=this;return m.rootNode.width=0,f(m.rootNode,m.options,g)},a}(s),r={};function t(e,a){return a=i.assign({},r,a),new n(e,a).execute()}E.exports=t},function(E,L,l){var v=l(0);function h(f,i){f===void 0&&(f=0),i===void 0&&(i=[]);var n=this;n.x=n.y=0,n.leftChild=n.rightChild=null,n.height=0,n.children=i}var s={isHorizontal:!0,nodeSep:20,nodeSize:20,rankSep:200,subTreeSep:10};function g(f,i,n){n?(i.x=f.x,i.y=f.y):(i.x=f.y,i.y=f.x),f.children.forEach(function(r,t){g(r,i.children[t],n)})}E.exports=function(f,i){i===void 0&&(i={}),i=v.assign({},s,i);var n=0;function r(c){if(!c)return null;c.width=0,c.depth&&c.depth>n&&(n=c.depth);var m=c.children,w=m.length,b=new h(c.height,[]);return m.forEach(function(p,O){var T=r(p);b.children.push(T),O===0&&(b.leftChild=T),O===w-1&&(b.rightChild=T)}),b.originNode=c,b.isLeaf=c.isLeaf(),b}function t(c){if(c.isLeaf||c.children.length===0)c.drawingDepth=n;else{var m=c.children.map(function(b){return t(b)}),w=Math.min.apply(null,m);c.drawingDepth=w-1}return c.drawingDepth}var e;function a(c){c.x=c.drawingDepth*i.rankSep,c.isLeaf?(c.y=0,e&&(c.y=e.y+e.height+i.nodeSep,c.originNode.parent!==e.originNode.parent&&(c.y+=i.subTreeSep)),e=c):(c.children.forEach(function(m){a(m)}),c.y=(c.leftChild.y+c.rightChild.y)/2)}var o=r(f);return t(o),a(o),g(o,f,i.isHorizontal),f}},function(E,L,l){function v(o,c){o.prototype=Object.create(c.prototype),o.prototype.constructor=o,h(o,c)}function h(o,c){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(m,w){return m.__proto__=w,m},h(o,c)}var s=l(1),g=l(11),f=l(4),i=l(0),n=["LR","RL","H"],r=n[0],t=function(o){function c(){return o.apply(this,arguments)||this}v(c,o);var m=c.prototype;return m.execute=function(){var b=this,p=b.options,O=b.rootNode;p.isHorizontal=!0;var T=p.indent,D=T===void 0?20:T,M=p.dropCap,N=M===void 0?!0:M,I=p.direction,u=I===void 0?r:I,d=p.align;if(u&&n.indexOf(u)===-1)throw new TypeError("Invalid direction: "+u);if(u===n[0])g(O,D,N,d);else if(u===n[1])g(O,D,N,d),O.right2left();else if(u===n[2]){var y=f(O,p),x=y.left,P=y.right;g(x,D,N,d),x.right2left(),g(P,D,N,d);var S=x.getBoundingBox();P.translate(S.width,0),O.x=P.x-O.width/2}return O},c}(s),e={};function a(o,c){return c=i.assign({},e,c),new t(o,c).execute()}E.exports=a},function(E,L,l){var v=l(0);function h(s,g,f,i,n){var r=(typeof f=="function"?f(s):f)*s.depth;if(!i)try{if(s.id===s.parent.children[0].id){s.x+=r,s.y=g?g.y:0;return}}catch(a){}if(s.x+=r,g){if(s.y=g.y+v.getHeight(g,s,n),g.parent&&s.parent.id!==g.parent.id){var t=g.parent,e=t.y+v.getHeight(t,s,n);s.y=e>s.y?e:s.y}}else s.y=0}E.exports=function(s,g,f,i){var n=null;s.eachNode(function(r){h(r,n,g,f,i),n=r})}},function(E,L,l){function v(e,a){e.prototype=Object.create(a.prototype),e.prototype.constructor=e,h(e,a)}function h(e,a){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,c){return o.__proto__=c,o},h(e,a)}var s=l(1),g=l(13),f=l(2),i=l(0),n=function(e){function a(){return e.apply(this,arguments)||this}v(a,e);var o=a.prototype;return o.execute=function(){var m=this;return f(m.rootNode,m.options,g)},a}(s),r={};function t(e,a){return a=i.assign({},r,a),new n(e,a).execute()}E.exports=t},function(E,L,l){var v=l(0);function h(f,i){var n=0;return f.children.length?f.children.forEach(function(r){n+=h(r,i)}):n=f.height,f._subTreeSep=i.getSubTreeSep(f.data),f.totalHeight=Math.max(f.height,n)+2*f._subTreeSep,f.totalHeight}function s(f){var i=f.children,n=i.length;if(n){i.forEach(function(c){s(c)});var r=i[0],t=i[n-1],e=t.y-r.y+t.height,a=0;if(i.forEach(function(c){a+=c.totalHeight}),e>f.height)f.y=r.y+e/2-f.height/2;else if(i.length!==1||f.height>a){var o=f.y+(f.height-e)/2-r.y;i.forEach(function(c){c.translate(0,o)})}else f.y=(r.y+r.height/2+t.y+t.height/2)/2-f.height/2}}var g={getSubTreeSep:function(){return 0}};E.exports=function(f,i){i===void 0&&(i={}),i=v.assign({},g,i),f.parent={x:0,width:0,height:0,y:0},f.BFTraverse(function(n){n.x=n.parent.x+n.parent.width}),f.parent=null,h(f,i),f.startY=0,f.y=f.totalHeight/2-f.height/2,f.eachNode(function(n){var r=n.children,t=r.length;if(t){var e=r[0];if(e.startY=n.startY+n._subTreeSep,t===1)e.y=n.y+n.height/2-e.height/2;else{e.y=e.startY+e.totalHeight/2-e.height/2;for(var a=1;a<t;a++){var o=r[a];o.startY=r[a-1].startY+r[a-1].totalHeight,o.y=o.startY+o.totalHeight/2-o.height/2}}}}),s(f)}}])})},60292:function(C,E,L){"use strict";L.r(E);var l=L(9083),v=L.n(l),h=L(38497),s=L(49212),g=L.n(s),f=L(49188),i=L(96469);E.default=function(){var n=(0,h.useRef)(null),r=(0,h.useState)(),t=v()(r,2),e=t[0],a=t[1];console.log("Hierarchy",g());var o=function(){var p={isRoot:!0,id:"Root",children:[{id:"SubTreeNode1",children:[{id:"SubTreeNode1.1"},{id:"SubTreeNode1.2"}]},{id:"SubTreeNode2"}]},O=16,T=5,D=g().compactBox(p,{direction:"H",getId:function(N){return N.id},getHeight:function(N){return N.isRoot?O*2:O},getWidth:function(N){return 10},getHGap:function(N){return N.isRoot?T*2:T},getVGap:function(N){return N.isRoot?T*2:T},getSubTreeSep:function(N){return!N.children||!N.children.length?0:T}});console.log("rootNode>>>",D),c([D])},c=function b(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=arguments.length>1?arguments[1]:void 0;p.forEach(function(T){var D=w(T,O);Array.isArray(T.children)&&b(T.children,D)})},m=function(p,O){p.forEach(function(T){O(T),Array.isArray(T.children)&&c(T.children)})},w=function(p,O){var T=p.id!=="SubTreeNode1";console.log("vivivivivivi",T);var D=new f.NB({visible:T,shape:"rect",magnet:!0,width:p.width,height:p.height,x:p.x,y:p.y,markup:[{tagName:"rect",selector:"body1",groupSelector:"",attrs:{fill:"#e2d2d2",stroke:"#ff0",strokeWidth:1,textAnchor:"middle"},style:{color:"#0f0"},className:"a--a"},{tagName:"text",selector:"label1"}],attrs:{port1111:{text:"port1111"},body1:{fill:"#0ff",refWidth:1,refHeight:1},label1:{text:p.id,fill:"#000",y:"10px"}},data:{bizID:125,date:"20200630",price:89}});return console.log("nodeIns>>>>>>>",D.collapse),O?O.addChild(D):e==null||e.addNode(D),setInterval(function(){if(p.id==="SubTreeNode1"){var M=D.visible;D.setVisible(!M),m(D.children,function(N){N==null||N.setVisible(!M)})}},1e3),D};return(0,h.useEffect)(function(){var b=new f.kJ({container:n.current,grid:10,width:500,height:300,mousewheel:{enabled:!0,zoomAtMousePosition:!0,modifiers:"ctrl",minScale:.5,maxScale:3},connecting:{snap:{radius:50},highlight:!0,anchor:{name:"midSide",args:{dx:10}},router:"manhattan",connector:{name:"rounded",args:{radius:8}},connectionPoint:"anchor",allowBlank:!1,allowNode:!0,createEdge:function(){return new f.bn.kS({attrs:{line:{stroke:"#f0f",strokeWidth:2}},zIndex:0})},validateMagnet:function(){return!0},validateEdge:function(){return!0},validateConnection:function(O){var T=O.targetMagnet;return!!T}},highlighting:{magnetAdsorbed:{name:"stroke",args:{attrs:{fill:"transparent",stroke:"#5F95FF"}}},magnetAvailable:{name:"stroke",args:{attrs:{fill:"transparent",stroke:"##f0f"}}},nodeAvailable:{name:"stroke",args:{attrs:{fill:"transparent",stroke:"##1af"}}}}});a(b)},[]),(0,h.useEffect)(function(){e&&(o(),e.centerContent())},[e]),(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{ref:n})})}}}]);
