/* empty css                       */import{c as f,G as x,s as E,a as w,_ as b}from"./index-CuM6nURI.js";const N={class:"home-index"},y={key:0,class:"text-2xl text-center positive"},S={key:0,class:"text-2xl text-center huni-class"},T={name:"list",tag:"div",class:"s-container"},L=["title"],R={class:"el-descriptions__header"},F={class:"el-descriptions__title"},H={class:"el-descriptions__body ddd"},$={class:"ql-editor"},M=["innerHTML"],q={key:1,class:"positive"},I=["onClick"],D=["innerHTML"],z=Vue.defineComponent({__name:"HomeIndex",setup(O){Vue.ref("11"),Vue.ref("22");const h=Vue.inject("$axios"),u=Vue.ref([]);let v=Vue.toRefs(f()),m=Vue.ref("");Vue.watch(v.headerKeyword,t=>{m.value=t,p(null)});let V=Vue.ref(document.createElement("textarea"));const g=(t,s)=>{let o=document.querySelector(".".concat(s));Vue.nextTick(()=>{V.value.textContent=(o==null?void 0:o.innerText)||"",V.value.select();let e=document.execCommand("copy");ElementPlus.ElMessage({type:e?"success":"warning",message:e?"复制成功！":"复制失败！"})})},r=Vue.ref(!1),p=async t=>{let s=m.value?{params:{order:"-seq",where:'{"title": {"$regex":"'.concat(m.value,'","$options":"i"}, "moduleType":"common"}')}}:{params:{order:"-seq"}};r.value||await new Promise(o=>{setTimeout(()=>{o(null)},1200)}),await h.get("/indexData",t||s).then(o=>{console.log(o);let e="$_$_$",_=(o.results||[]).map(c=>{let i=(c.content||"")&&c.content.replace(/<pre /ig,e+"<pre ").replace(/<\/pre>/ig,"</pre>"+e).split(e),n=i&&i.map(l=>({type:l.indexOf("<pre ")>-1?"code":"string",val:l})).filter(l=>l.val)||[];return c.contentList=n,c});u.value=_,Vue.nextTick(()=>{k()})}).finally(()=>{r.value=!0})};x().setFunc(p),Vue.onMounted(()=>{p(null)});let B=Vue.reactive([]);const C=t=>{B.push(t)},k=()=>{u.value.map(t=>(t.isInitFlag=!0,t)).forEach((t,s)=>{new IntersectionObserver(o=>{o.forEach(e=>{e.intersectionRatio>0?e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.bottom-e.rootBounds.bottom>0?(t.domShowByBottom=!0,t.domHideByBottom=!0,t.domHideByTop=!1,t.domShowByTop=!1):e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.top-e.rootBounds.top<0:e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.bottom-e.rootBounds.bottom>0?(t.domShowByBottom=!1,t.domHideByBottom=!0,t.domHideByTop=!1,t.domShowByTop=!1,console.log("isFromTop",e.isIntersecting)):e.rootBounds&&e.boundingClientRect&&e.boundingClientRect.top-e.rootBounds.top<0})},{}).observe(B[s])})};return(t,s)=>{const o=Vue.resolveComponent("el-aside"),e=Vue.resolveComponent("el-icon"),_=Vue.resolveComponent("el-scrollbar"),c=Vue.resolveComponent("el-main"),i=Vue.resolveComponent("el-container");return Vue.openBlock(),Vue.createElementBlock("div",N,[Vue.createVNode(i,null,{default:Vue.withCtx(()=>[Vue.createVNode(o,{class:"dddddd",width:Vue.unref(E)().sideShow.show?"320px":"0px"},null,8,["width"]),Vue.createVNode(c,{class:"list-main dddddd"},{default:Vue.withCtx(()=>[(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{to:"body"},[Vue.createElementVNode("textarea",{class:"copy-code-textarea",ref_key:"codeAreaDom",ref:V,name:"",id:"",cols:"30",rows:"10"},null,512)])),Vue.createVNode(_,{"wrap-class":"main-scroll-class"},{default:Vue.withCtx(()=>[Vue.createElementVNode("div",null,[Vue.unref(u).length===0?(Vue.openBlock(),Vue.createElementBlock("h2",y,[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(r)?"未查询到数据...":"查询中...")+" ",1),Vue.unref(r)?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createElementBlock("p",S,s[0]||(s[0]=[Vue.createElementVNode("span",{class:"mark-div"},"查询中...",-1)])))])):Vue.createCommentVNode("",!0),Vue.createElementVNode("div",T,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(u),(n,l)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["el-descriptions",{isInitFlag:n.isInitFlag,"list-panel-hide-bottom":n.domHideByBottom,"list-panel-show-bottom":n.domShowByBottom}]),key:n.title,title:n.title},[Vue.createElementVNode("div",R,[Vue.createElementVNode("div",F,Vue.toDisplayString(n.title),1)]),Vue.createElementVNode("div",H,[Vue.createElementVNode("div",{ref_for:!0,ref:C,class:"ql-container ql-snow"},[Vue.createElementVNode("div",$,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(n.contentList,(a,d)=>(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,[a.type==="string"?(Vue.openBlock(),Vue.createElementBlock("div",{key:0,innerHTML:a.val},null,8,M)):Vue.createCommentVNode("",!0),a.type==="code"?(Vue.openBlock(),Vue.createElementBlock("div",q,[Vue.createElementVNode("div",{class:Vue.normalizeClass(["code-copy","btn__"+l+"_"+d]),onClick:j=>g("btn__"+l+"_"+d,"code_"+l+"_"+d)},[Vue.createVNode(e,null,{default:Vue.withCtx(()=>[Vue.createVNode(Vue.unref(w))]),_:1})],10,I),Vue.createElementVNode("div",{class:Vue.normalizeClass("code_"+l+"_"+d),innerHTML:a.val},null,10,D)])):Vue.createCommentVNode("",!0)],64))),256))])])])],10,L))),128))])])]),_:1})]),_:1})]),_:1})])}}}),P=b(z,[["__scopeId","data-v-83f260a0"]]);export{P as default};
